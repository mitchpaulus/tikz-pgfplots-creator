<!doctype html>

<html lang="en">
<head>
<meta charset="utf-8">

<title>Tikz Plot Generator</title>
<meta name="description" content="The HTML5 Herald">
<meta name="author" content="SitePoint">

<link rel="stylesheet" href="styles.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js"></script>

</head>

<body>

<a href="https://github.com/mitchpaulus"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>

<p> This is a generator of basic tikz pgfplots.   </p>

<div id="left-column">

    <h2>Add Axis</h2>
    <button data-bind="click: addAxis">Add New Axis</button>
    <div data-bind="foreach: axes">
        <div>
            <label>X Label</label> <input data-bind="textInput: xLabel" type="text"> </input>
            <label>Y Label</label> <input data-bind="textInput: yLabel" type="text"> </input>
        </div>

        <div>
            <label class="clickable-label" data-bind="attr:{for: 'axis-grid-' + $index()}">Include Grid?</label>  
            <input type="checkbox" data-bind="checked: allGrid, attr: {id: 'axis-grid-' + $index()}">  </input>
        </div>
        <div>
            <label class="clickable-label"  data-bind="attr:{for: 'axis-ticks' + $index()}">Hide all ticks?</label> 
            <input type="checkbox" data-bind="checked: hideAllTicks, attr:{id: 'axis-ticks' + $index()}">  </input>
        </div>
        <div>
            <label class="clickable-label"  data-bind="attr:{for: 'set-axis-limits' + $index()}">Set Axis Limits</label>
            <input type="checkbox" data-bind="checked: setAxisLimits, attr:{id: 'set-axis-limits' + $index()}"></input>

            <div data-bind="visible: setAxisLimits">
                <label>X Min</label> <input type="search" data-bind="textInput: xMin" >
                <label>X Max</label> <input type="search" data-bind="textInput: xMax" >
                <label>Y Min</label> <input type="search" data-bind="textInput: yMin" >
                <label>Y Max</label> <input type="search" data-bind="textInput: yMax" >
            </div>

        </div>

        <h3>Legend Options</h3>
        <div>
            <label class="clickable-label"  data-bind="attr:{for: 'show-legend'+$index()}">Show Legend?</label>
            <input type="checkbox" data-bind="attr:{id: 'show-legend'+$index()}, checked: showLegend"></input>
        </div>
        <div data-bind="visible: showLegend">
            <div>
                <input data-bind="attr:{name: 'legend-pos-radio'+$index(), id: 'legend-pos-radio-default'+$index()}, checked: legendPosType" value="default" type="radio"></input>
                <label class="clickable-label" data-bind="attr:{for: 'legend-pos-radio-default'+$index()}">Use default legend position</label>
            </div>
            <div>
                <input data-bind="attr:{name: 'legend-pos-radio'+$index(), id: 'legend-pos-radio-shorthand'+$index()}, checked: legendPosType" value="shorthand" type="radio"></input>
                <label class="clickable-label" data-bind="attr:{for: 'legend-pos-radio-shorthand'+$index()}">Use shorthand legend position</label>
            </div>
            <div> <select data-bind="options: legendPosOptions, visible: showLegend() && legendPosType() === 'shorthand', value: shorthandLegendPos"></select> </div>

            <div>
                <input data-bind="attr:{name: 'legend-pos-radio'+$index(), id: 'legend-pos-radio-custom'+$index()}, checked: legendPosType" value="custom" type="radio"></input> <label data-bind="attr:{for: 'legend-pos-radio-custom'+$index()}" class="clickable-label">Specify exact legend position</label>       
            </div>
            <div data-bind="visible: showLegend() && legendPosType() === 'custom'">
                <p>Legend position (use axis coordinates 0-1)</p>
                <div><label>Legend X Pos</label> <input type="text" data-bind="textInput: legendXCustomPos"></input></div>
                <div><label>Legend Y Pos</label> <input type="text" data-bind="textInput: legendYCustomPos"></input></div>
                <div><label>Anchor</label> <select data-bind="options: anchorOptions, value: legendAnchor"> </select></div>
            </div>

        </div>

        <h3> Label Styles </h3>

        <div> 
            <label class="clickable-label"  data-bind="attr:{for: 'axis-label-pos' + $index()}">Set position on the axis in axis coordinates </label> <input type="checkbox" data-bind="checked: styleXLabel, attr:{id: 'axis-label-pos' + $index()}"> </input>
        </div>
        <div data-bind="visible: styleXLabel">
            <label>x label x-position</label><input type="search" data-bind="textInput: xLabelXLocation"> 
            <label>x label y-position</label> </input><input type="search" data-bind="textInput: xLabelYLocation"></input>
        </div>

        <div> 
            <label class="clickable-label"  data-bind="attr:{for: 'rotate-y-axis' + $index()}">Rotate Y-Axis Label?</label> <input type="checkbox" data-bind="checked: rotateYAxis, attr:{id: 'rotate-y-axis' + $index()}"> </input> 
            <label data-bind="visible: rotateYAxis">Rotation angle:</label> <input type="text" data-bind="visible: rotateYAxis,  textInput: rotateYAxisAngle" ></input>
        </div>

        <div>
            <label class="clickable-label"  for="use-non-box-axis-lines">Use non box axis?</label><input id="use-non-box-axis-lines" type="checkbox" data-bind="checked: useNonBoxAxis">
            <select data-bind="visible: useNonBoxAxis, options: lineSettingOptions, value: axisLineSetting"> </select>
        </div>

        <h2>Add Series</h2> 
        <button data-bind="click: addTableSeries">Add a Series From a File</button><button style="margin-left: 2em" data-bind="click: addMathSeries">Add a Series from Math Function</button>
        <div class="plot" data-bind=" template: { foreach: plots, name: seriesTemplateName } ">
        </div>



    </div>


</div>


<div id="right-column">
    <h2>Final Output</h2>
    <div>
        <p>Some preamble output</p>
        <textarea name="output" rows="10" cols="72" readonly data-bind="value: preambleOutput"></textarea>
    </div>
    <div>
        <p>Plot output</p>
        <textarea onclick="this.select()" name="output" rows="20" cols="72" readonly data-bind="value: output"></textarea>
    </div>

</div>


</body>

<script src="tikzpgfplotsgenerator.js"></script>

<script type="text/html" charset="utf-8" id="base-plot-options">
<div>
    <label>Color: </label> <select data-bind="options: colorOptions, value: commonPlotOptions.color" size="1"></select>
    <label>Marker Type:</label> <select data-bind="options: markOptions, value: commonPlotOptions.mark" size="1"></select>
    <label class="clickable-label" data-bind="attr:{for: 'smooth'+$index()}">Smooth Plot?</label> <input type="checkbox" name="smooth-plot" data-bind="attr:{id: 'smooth'+$index()},checked: commonPlotOptions.makeSmooth">
<label>Line Style</label><select data-bind="options: lineStyleOptions, value: commonPlotOptions.lineStyle"></select>
</div>
<div>
    <label class="clickable-label" data-bind="attr:{for:'add-legend-entry'+$index()}">Add legend entry?</label><input  type="checkbox" data-bind="attr:{id: 'add-legend-entry'+$index()}, checked: commonPlotOptions.addLegendEntry"></input>
<div data-bind="visible: commonPlotOptions.addLegendEntry">
<label>Legend Entry Text:</label> <input type="text" data-bind="textInput: commonPlotOptions.legendEntry"></input></div>
</div>
</script>


<script type="text/html" id="math-expression" >
<div class="series">
<div data-bind="template:{name:'base-plot-options'}">
    
</div>
<div>
<label>Math expression:</label> <input type="search" data-bind="textInput: expression"></input>
<button data-bind="click: $parent.removePlot">Remove Plot</button>
<p>Math Expression.</p>
</div>
</div>
</script>


<script type="text/html" id="table" >
<div class="series">
    
<div data-bind="template:{name:'base-plot-options'}">

</div>
<div>
<p>Select the column separator. Default is space.</p>
    <label>Column Separator</label> 
    <select data-bind="options: delimiterOptions, value: delimiter" size="1">

    </select>

    </select>
<label>File name: </label> <input data-bind="textInput: filename"></input>


<button data-bind="click: $parent.removePlot">Remove Plot</button>
</div>
</div>
</script>


</html>
